syntax = "proto3";

package authpb;

option go_package = "skillsync-protos/gen/authpb";

service AuthService {
  // Candidate endpoints
  rpc CandidateSignup(CandidateSignupRequest) returns (AuthResponse);
  rpc CandidateLogin(CandidateLoginRequest) returns (AuthResponse);
  rpc CandidateVerifyEmail(VerifyEmailRequest) returns (GenericResponse);
  rpc CandidateResendOtp(ResendOtpRequest) returns (GenericResponse);
  rpc CandidateForgotPassword(ForgotPasswordRequest) returns (GenericResponse);
  rpc CandidateResetPassword(ResetPasswordRequest) returns (GenericResponse);
  rpc CandidateChangePassword(ChangePasswordRequest) returns (GenericResponse);
  rpc CandidateProfile(ProfileRequest) returns (ProfileResponse);
  rpc CandidateProfileUpdate(ProfileUpdateRequest) returns (GenericResponse);
  rpc CandidateSkillsUpdate(SkillsUpdateRequest) returns (GenericResponse);
  rpc CandidateEducationUpdate(EducationUpdateRequest) returns (GenericResponse);
  rpc CandidateUploadResume(UploadResumeRequest) returns (GenericResponse);
  rpc CandidateGoogleLogin(GoogleLoginRequest) returns (AuthResponse);
  rpc CandidateGoogleCallback(GoogleCallbackRequest) returns (AuthResponse);

  // Employer endpoints
  rpc EmployerSignup(EmployerSignupRequest) returns (AuthResponse);
  rpc EmployerLogin(EmployerLoginRequest) returns (AuthResponse);
  rpc EmployerVerifyEmail(VerifyEmailRequest) returns (GenericResponse);
  rpc EmployerResendOtp(ResendOtpRequest) returns (GenericResponse);
  rpc EmployerForgotPassword(ForgotPasswordRequest) returns (GenericResponse);
  rpc EmployerResetPassword(ResetPasswordRequest) returns (GenericResponse);
  rpc EmployerChangePassword(ChangePasswordRequest) returns (GenericResponse);
  rpc EmployerProfile(ProfileRequest) returns (ProfileResponse);
  rpc EmployerProfileUpdate(ProfileUpdateRequest) returns (GenericResponse);
  rpc EmployerGoogleLogin(GoogleLoginRequest) returns (AuthResponse);
  rpc EmployerGoogleCallback(GoogleCallbackRequest) returns (AuthResponse);
}

// Example request/response messages (expand as needed)
message CandidateSignupRequest {
  string email = 1;
  string password = 2;
  string name = 3;
}

message CandidateLoginRequest {
  string email = 1;
  string password = 2;
}

message EmployerSignupRequest {
  string email = 1;
  string password = 2;
  string company_name = 3;
}

message EmployerLoginRequest {
  string email = 1;
  string password = 2;
}

message VerifyEmailRequest {
  string email = 1;
  string otp = 2;
}

message ResendOtpRequest {
  string email = 1;
}

message ForgotPasswordRequest {
  string email = 1;
}

message ResetPasswordRequest {
  string email = 1;
  string new_password = 2;
  string otp = 3;
}

message ChangePasswordRequest {
  string email = 1;
  string old_password = 2;
  string new_password = 3;
}

message ProfileRequest {
  string email = 1;
}

message ProfileUpdateRequest {
  string email = 1;
  string name = 2;
  // Add more fields as needed
}

message SkillsUpdateRequest {
  string email = 1;
  repeated string skills = 2;
}

message EducationUpdateRequest {
  string email = 1;
  string education = 2;
}

message UploadResumeRequest {
  string email = 1;
  bytes resume = 2;
}

message GoogleLoginRequest {
  string redirect_url = 1;
}

message GoogleCallbackRequest {
  string code = 1;
}

message AuthResponse {
  string token = 1;
  string message = 2;
}

message GenericResponse {
  string message = 1;
  bool success = 2;
}

message ProfileResponse {
  string email = 1;
  string name = 2;
  // Add more fields as needed
}